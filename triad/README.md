# 三者対話（Gemini × Cursor × あなた）テンプレート

このテンプレートは、Gemini APIを使用して様々な形式のコンテンツを生成するための手順を自動化します。

## セットアップ

1. セットアップスクリプトを実行：
```bash
./setup.sh
```

2. `.env`ファイルを編集してGemini APIキーを設定：
```bash
nano .env
# GEMINI_API_KEY="your_actual_api_key" に変更
```

## 使用方法

```bash
./triad.sh "あなたのプロンプト"
```

## 対応形式

このテンプレートは以下の形式の出力に対応しています：

### 📝 テキスト形式
```bash
./triad.sh "簡単な挨拶をしてください"
```

### 💻 ソースコード形式
```bash
./triad.sh "PythonでHello Worldを書いてください"
./triad.sh "JavaScriptで関数を作成してください"
```

### 📊 データ形式
```bash
# JSON形式
./triad.sh "ユーザー情報をJSON形式で返してください"

# CSV形式
./triad.sh "従業員リストをCSV形式で返してください"

# YAML形式
./triad.sh "設定ファイルをYAML形式で返してください"
```

### 📄 ドキュメント形式
```bash
# Markdown形式
./triad.sh "プロジェクトの説明をMarkdown形式で返してください"

# HTML形式
./triad.sh "ウェブページをHTML形式で返してください"

# XML形式
./triad.sh "データをXML形式で返してください"
```

## ファイル構成

- `triad.sh`: メインスクリプト
- `setup.sh`: セットアップスクリプト
- `.env`: 環境変数設定（APIキーなど）
- `logs/`: ログファイル保存ディレクトリ（日付別）
- `README.md`: このファイル

## 機能

- **自動形式検出**: プロンプトの内容に基づいて適切な出力形式を自動選択
- **完全な応答表示**: 改行や特殊文字を含む複雑な形式も正確に表示
- **ログ機能**: すべての対話を日付別のログファイルに保存
- **エラーハンドリング**: APIエラーや設定ミスを適切に処理
- **テストモード**: APIキー未設定時でも安全にテスト実行可能

## 注意事項

- Gemini APIキーが必要です（[Google AI Studio](https://aistudio.google.com/)で取得）
- `python3`がインストールされている必要があります
- ログは日付別に保存されます
- `.env`ファイルはGitにコミットされません（セキュリティのため）

## トラブルシューティング

### APIキーが設定されていない場合
```
警告: Gemini APIキーが設定されていません。.envファイルを編集してください。
テストモードで実行します...
```

### 応答が途中で切れる場合
- プロンプトに「コードは必ず```で囲んでください」という指示が自動追加されます
- 複雑な構造のデータは適切な形式で要求してください

### ログファイルの確認
```bash
cat logs/$(date +%Y-%m-%d).log
```
